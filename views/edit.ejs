<!DOCTYPE html>
<html lang="en">
	<head>
		<title>ASQ - My Presentations</title>
		<!-- Bootstrap -->
		<link href="/css/bootstrap.min.css" rel="stylesheet" media="screen">
		
		<link rel="stylesheet/less" type="text/css" href="/css/backend.less">
		<script src="/js/less-1.3.1.min.js" type="text/javascript"></script>
		<script src="http://code.jquery.com/jquery-latest.js"></script>
		<script src="/js/bootstrap.min.js"></script>
		<script>
			$(document).ready(function() {
				var nslides=6;
				var options="";
				for (var i=0; i<nslides;i++) {
					options+="<option>"+(i+1)+"</option>";
				}
				$("[name='afterslide']").html(options);
				
				$('#addQuestion').click(function() {
					$('#addQuestionForm').submit();
				});
				
				$('#addOption').click(function() {
					var noptions=$("[class='option']").length+1;
					var optionsstring='<div class="controls-row">'+
					'<input type="text" id="inputOption'+noptions+'"  name="option'+noptions+'"  class="option">'+
					'<label class="checkbox"><input type="checkbox" name="checkbox'+noptions+'" > Correct</label></div>';
					$('#options').append(optionsstring);
					
				});
				$('#addQuestionForm').attr('action',"edit"+window.location.search);
				$('.delete').attr('href', "delete"+window.location.search+"&"+$('.delete').attr('href'))
				
			});
			
		</script>
		<style type="text/css" media="screen">
			/*.modal{
			   width:700px;
			   margin-left:-350px;
			}*/
		</style>
	</head>
	<body>
		
		<!---   top menu --->
		<% include menu %>
		
		
		<!---   Content area   --->
		<div class="container" id="content">

			<div class="row group" >
				
				<div class="span12"><h3>Edit "What is ASQ?"</h3></div>
				<!---   Seperating Headline   --->
				<div class="span12  headline">
					<h2 class="pull-left">Questions & Answers</h2>
					<a class="pull-right controls" href="edithtml"><i class="icon-align-left icon-white"> </i> HTML </a>
					<a class="pull-right controls" href="editstyle"><i class="icon-eye-open icon-white"> </i> Style/CSS </a>
					<a class="pull-right controls" href="editimages"><i class="icon-picture icon-white"> </i> Images </a>
				</div>
				
				
					<div id="editorQuestions" class="span12">
						<table class="table">
						  <thead>
						    <tr>
						      <th>#</th>
						      <th>Question</th>
						      <th>Type</th>
						      <th>Position</th>
						      <th>Actions</th>
						    </tr>
						  </thead>
						  <tbody>
						    <% for (var i=0;i<arrayquestions.length;i++) { %>
						    <tr>
							<td><%=(i+1)%></td>
							<td><%=arrayquestions[i].questionText %></td>
						      <td><%=arrayquestions[i].questionType %></td>
						      <td><%=arrayquestions[i].afterslide %></td>
						      <td>
						      	<a href="#"><i class="icon-pencil icon-white"></i></a> &nbsp;&nbsp;
						      	<a class ="delete" href="quest=<%=arrayquestions[i]._id %>"><i class="icon-trash icon-white"></i></a>	&nbsp;&nbsp;
						      	<a href="#"><i class="icon-resize-vertical icon-white"></i></a> &nbsp;&nbsp;
						      </td>
							
						    </tr>
						<% } %>
						  </tbody>
						</table>
						<a href="#" data-toggle="modal" data-target="#myModal" class="span12" style="text-align: center; color: white"><i class="icon-plus-sign icon-white"></i> Add question </a>
					</div>
	
					
					 
				
			</div>
			
		</div>

	<div id="myModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	  <div class="modal-header">
	    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">?</button>
	    <h3 id="myModalLabel">Add or edit question</h3>
	  </div>
	  <div class="modal-body">
	    <form class="form-horizontal"  id="addQuestionForm" method="post">
		  <div class="control-group">
		    <label class="control-label" for="inputQuestion">Question text:</label>
		    <div class="controls">
		      <input type="text" id="inputQuestion" name="questionText" placeholder="In which country is Lugano?">
		    </div>
		  </div>
		  <div class="control-group">
		    <label class="control-label" for="inputType">Question type</label>
		    <div class="controls">
		      <select id="inputType" name="questionType" >
				  <option>Multiple choice</option>
				  <option>Numeric input</option>
				  <option>Text input</option>
				</select>
		    </div>
		  </div>
		  <div class="control-group">
		    <label class="control-label" for="inputType">After slide</label>
		    <div class="controls">
		      <select id="inputType" name="afterslide">
				  
				</select>
		    </div>
		  </div>
		  <div class="control-group">
		    <label class="control-label" for="inputOptions">Answer Options</label>
		    <div class="controls" id="options">
			    <div class="controls-row">
			      <input type="text" id="inputOption1" class="option" name="option1">
				<i id="addOption" class="icon-plus-sign"></i>
			      <label class="checkbox"><input type="checkbox" name=checkbox1> Correct</label>
			      
			    </div>
			    
			    
			    
		    
		    </div>
		  </div>
		 </form>
	  </div>
	  <div class="modal-footer">
	    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
	    <button class="btn btn-primary" id="addQuestion">Add question</button>
	  </div>
	</div>
	
	<script src="http://d1n0x3qji82z53.cloudfront.net/src-min-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
	<script>
	    var editor = ace.edit("editor");
	    editor.setTheme("ace/theme/vibrant_ink");
	    editor.getSession().setMode("ace/mode/javascript");
	</script>
	</body>
</html>